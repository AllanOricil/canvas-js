!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.canvasJS=e():t.canvasJS=e()}(window,(function(){return function(t){var e={};function s(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,s),r.l=!0,r.exports}return s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(i,r,function(e){return t[e]}.bind(null,r));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=7)}([function(t,e,s){var i=s(5),r=s(6);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var n={insert:"head",singleton:!1};i(r,n);t.exports=r.locals||{}},function(t,e,s){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var s=function(t,e){var s=t[1]||"",i=t[3];if(!i)return s;if(e&&"function"==typeof btoa){var r=(o=i,a=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),h="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(h," */")),n=i.sources.map((function(t){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(t," */")}));return[s].concat(n).concat([r]).join("\n")}var o,a,h;return[s].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(s,"}"):s})).join("")},e.i=function(t,s,i){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(i)for(var n=0;n<this.length;n++){var o=this[n][0];null!=o&&(r[o]=!0)}for(var a=0;a<t.length;a++){var h=[].concat(t[a]);i&&r[h[0]]||(s&&(h[2]?h[2]="".concat(s," and ").concat(h[2]):h[2]=s),e.push(h))}},e}},function(t,e,s){"use strict";t.exports=function(t,e){return e||(e={}),"string"!=typeof(t=t&&t.__esModule?t.default:t)?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},function(t,e){t.exports="data:image/svg+xml;charset=utf-8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMjAwMTA5MDQvL0VOIgogICAgICAgICAgICAgICJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy1TVkctMjAwMTA5MDQvRFREL3N2ZzEwLmR0ZCI+Cgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgICB3aWR0aD0iMjUiIGhlaWdodD0iMjUiCiAgICAgdmlld0JveD0iMCAwIDU0IDU0Ij4KICA8cGF0aCBpZD0iU2VsZWN0aW9uIgogICAgICAgIGZpbGw9InJnYigxMDAsMTAwLDEwMCkiIHN0cm9rZT0icmdiKDEwMCwxMDAsMTAwKSIgc3Ryb2tlLXdpZHRoPSIxIgogICAgICAgIGQ9Ik0gNS40NCw1LjQ0CiAgICAgICAgICAgQyA1LjMxLDcuNjMgMy44OSwxMC41MCAxLjM5LDguNDgKICAgICAgICAgICAgIDAuMTYsNy40OSAwLjM5LDUuMjEgMC40MiwzLjc3CiAgICAgICAgICAgICAwLjQ0LDIuODcgMC40MCwxLjc3IDEuMDksMS4wOQogICAgICAgICAgICAgMi4xMCwwLjA3IDcuMTIsMC4xNSA4LjE5LDEuMDkKICAgICAgICAgICAgIDkuNTksMi4zMSA5Ljc0LDUuMTkgNS40NCw1LjQ0IFoKICAgICAgICAgICBNIDEyLjY1LDAuNzkKICAgICAgICAgICBDIDE0LjA5LDAuMzUgMTguNzgsMC4xMSAyMC4wMywwLjc5CiAgICAgICAgICAgICAyMS42NywxLjgyIDIyLjI0LDUuMzUgMTcuNTgsNS40NAogICAgICAgICAgICAgMTYuNTYsNS40NiAxMy44NCw1LjUzIDEzLjAwLDUuMTkKICAgICAgICAgICAgIDEwLjkwLDQuMzUgMTAuOTEsMS45OCAxMi42NSwwLjc5IFoKICAgICAgICAgICBNIDI0Ljc5LDAuNzkKICAgICAgICAgICBDIDI2LjIzLDAuMzUgMzAuOTIsMC4xMSAzMi4xNywwLjc5CiAgICAgICAgICAgICAzMy43OCwxLjgwIDM0LjUzLDUuMzUgMjkuNzIsNS40NAogICAgICAgICAgICAgMjguNzAsNS40NiAyNS45OCw1LjUzIDI1LjE0LDUuMTkKICAgICAgICAgICAgIDIzLjA0LDQuMzUgMjMuMDUsMS45OCAyNC43OSwwLjc5IFoKICAgICAgICAgICBNIDM5LjM1LDUuNDQKICAgICAgICAgICBDIDM4LjM3LDUuNDEgMzcuMzUsNS40NSAzNi41NSw0Ljc3CiAgICAgICAgICAgICAzNS4yNywzLjY5IDM1LjI5LDEuMjIgMzcuMzAsMC42MAogICAgICAgICAgICAgMzguNDAsMC4yNiA0Mi40MiwwLjI2IDQzLjM4LDAuOTEKICAgICAgICAgICAgIDQ0Ljg0LDEuOTMgNDQuNzgsNy4zNyA0My4zOCw4LjQ4CiAgICAgICAgICAgICA0Mi4xMSw5LjUyIDQwLjIzLDkuMDEgMzkuNjAsNy40OQogICAgICAgICAgICAgMzkuMzQsNi44NSAzOS4zNyw2LjEyIDM5LjM1LDUuNDQgWgogICAgICAgICAgIE0gMS43NywxMS42MQogICAgICAgICAgIEMgNi4wMywxMC42NSA1LjQ5LDE0Ljc0IDUuNDQsMTcuNTgKICAgICAgICAgICAgIDUuNDIsMTguODkgNS40MSwyMC4xMiA0LjEzLDIwLjg2CiAgICAgICAgICAgICAyLjc4LDIxLjYyIDEuMjUsMjEuMDggMC43MCwxOS42NQogICAgICAgICAgICAgMC4yOCwxOC42OSAwLjI5LDEzLjU5IDAuNzAsMTIuNjUKICAgICAgICAgICAgIDEuMDcsMTEuOTIgMS4yMiwxMi4wMSAxLjc3LDExLjYxIFoKICAgICAgICAgICBNIDQwLjcwLDExLjYxCiAgICAgICAgICAgQyA0NS4wOCwxMC41NyA0NC40MiwxNC42NSA0NC4zNywxNy41OAogICAgICAgICAgICAgNDQuMzUsMTguODkgNDQuMzQsMjAuMTIgNDMuMDYsMjAuODYKICAgICAgICAgICAgIDQxLjcxLDIxLjYyIDQwLjE4LDIxLjA4IDM5LjYzLDE5LjY1CiAgICAgICAgICAgICAzOS4yMSwxOC42OSAzOS4yMiwxMy41OSAzOS42MywxMi42NQogICAgICAgICAgICAgNDAuMDAsMTEuOTIgNDAuMTUsMTIuMDEgNDAuNzAsMTEuNjEgWgogICAgICAgICAgIE0gMS43NywyMy43NQogICAgICAgICAgIEMgNi4wMywyMi43OSA1LjQ5LDI2Ljg4IDUuNDQsMjkuNzIKICAgICAgICAgICAgIDUuNDIsMzEuMDEgNS40MCwzMi4zMyA0LjEzLDMzLjA2CiAgICAgICAgICAgICAyLjgwLDMzLjgxIDEuMjMsMzMuMTggMC43MCwzMS43OQogICAgICAgICAgICAgMC4yOCwzMC44MyAwLjI5LDI1LjczIDAuNzAsMjQuNzkKICAgICAgICAgICAgIDEuMDcsMjQuMDYgMS4yMiwyNC4xNSAxLjc3LDIzLjc1IFoKICAgICAgICAgICBNIDM5LjM1LDI5LjcyCiAgICAgICAgICAgQyAzOS4zNSwyOS43MiAzOS4zOCwyOC4wNSAzOS4zOCwyOC4wNQogICAgICAgICAgICAgMzkuMzgsMjguMDUgMzkuMzgsMjUuNTUgMzkuMzgsMjUuNTUKICAgICAgICAgICAgIDM5Ljg4LDIzLjMwIDQyLjE3LDIzLjA4IDQzLjQwLDI0LjExCiAgICAgICAgICAgICA0NC43NSwyNS4yNCA0NC43NSwyOS4xOCA0My40MCwzMC4zMQogICAgICAgICAgICAgNDIuNjAsMzAuOTkgNDEuNTksMzAuOTQgNDAuNjAsMzAuOTgKICAgICAgICAgICAgIDQwLjYwLDMwLjk4IDUxLjkwLDQyLjI4IDUxLjkwLDQyLjI4CiAgICAgICAgICAgICA1NC4wMCw0NC40NyA1NS4zMCw0Ni44MCA1MS4wNyw0Ni44OAogICAgICAgICAgICAgNDkuMzQsNDYuOTEgNDUuMzQsNDYuNjIgNDMuOTUsNDcuMzEKICAgICAgICAgICAgIDQyLjE1LDQ4LjIyIDM5LjUwLDUxLjY3IDM3LjY3LDUzLjAzCiAgICAgICAgICAgICAzNi4wMSw1NC4yNyAzNC41Niw1NC4yMiAzNC4zMyw1MS45MAogICAgICAgICAgICAgMzQuMzMsNTEuOTAgMzQuMzMsNTAuMjMgMzQuMzMsNTAuMjMKICAgICAgICAgICAgIDM0LjMzLDUwLjIzIDM0LjMzLDMwLjE0IDM0LjMzLDMwLjE0CiAgICAgICAgICAgICAzNC4zNSwyOC43NyAzNC40NSwyNi45MCAzNi40MywyNy40OAogICAgICAgICAgICAgMzcuNTAsMjcuODAgMzguNTMsMjguOTYgMzkuMzUsMjkuNzIgWgogICAgICAgICAgIE0gMzkuNTYsMjkuOTMKICAgICAgICAgICBDIDM5LjU2LDI5LjkzIDM5LjM1LDI5LjcyIDM5LjM1LDI5LjcyCiAgICAgICAgICAgICAzOS4zNSwyOS43MiAzOS43NywzMC4xNCAzOS43NywzMC4xNAogICAgICAgICAgICAgMzkuNzcsMzAuMTQgMzkuNTYsMjkuOTMgMzkuNTYsMjkuOTMgWgogICAgICAgICAgIE0gNDAuMzgsMzAuNzUKICAgICAgICAgICBDIDQwLjM4LDMwLjc1IDQwLjE5LDMwLjU2IDQwLjE5LDMwLjU2CiAgICAgICAgICAgICA0MC4xOSwzMC41NiA0MC42MCwzMC45OCA0MC42MCwzMC45OAogICAgICAgICAgICAgNDAuNjAsMzAuOTggNDAuMzgsMzAuNzUgNDAuMzgsMzAuNzUgWgogICAgICAgICAgIE0gNS40NCwzOS4zNQogICAgICAgICAgIEMgNi4xMiwzOS4zNyA2Ljg1LDM5LjM0IDcuNDksMzkuNjAKICAgICAgICAgICAgIDkuMDEsNDAuMjMgOS41Miw0Mi4xMSA4LjQ4LDQzLjM4CiAgICAgICAgICAgICA3LjM3LDQ0Ljc4IDEuOTMsNDQuODQgMC45MSw0My4zOAogICAgICAgICAgICAgMC4zMCw0Mi40NyAwLjQxLDQwLjQzIDAuNDIsMzkuMzUKICAgICAgICAgICAgIDAuNDMsMzguNDkgMC40MSwzNy4zMyAwLjkxLDM2LjYwCiAgICAgICAgICAgICAxLjcxLDM1LjQzIDUuMjcsMzQuNDQgNS40NCwzOS4zNSBaCiAgICAgICAgICAgTSAxMi42NSwzOS43MgogICAgICAgICAgIEMgMTQuMDksMzkuMjggMTguNzgsMzkuMDQgMjAuMDMsMzkuNzIKICAgICAgICAgICAgIDIxLjY3LDQwLjc1IDIyLjI0LDQ0LjI4IDE3LjU4LDQ0LjM3CiAgICAgICAgICAgICAxNi40OCw0NC4zOSAxMy41NCw0NC40OCAxMi42NSw0NC4wNgogICAgICAgICAgICAgMTAuNzcsNDMuMTkgMTEuMDksNDAuNzkgMTIuNjUsMzkuNzIgWgogICAgICAgICAgIE0gMjQuNzksMzkuNzIKICAgICAgICAgICBDIDI2LjIzLDM5LjI4IDMwLjkyLDM5LjA0IDMyLjE3LDM5LjcyCiAgICAgICAgICAgICAzMy43OCw0MC43MyAzNC41Myw0NC4yOCAyOS43Miw0NC4zNwogICAgICAgICAgICAgMjguNzAsNDQuMzkgMjUuOTgsNDQuNDYgMjUuMTQsNDQuMTIKICAgICAgICAgICAgIDIzLjA0LDQzLjI4IDIzLjA1LDQwLjkxIDI0Ljc5LDM5LjcyIFoiIC8+Cjwvc3ZnPgo="},function(t,e,s){"use strict";t.exports=function(t,e,s,i){try{try{var r;try{r=new window.Blob([t])}catch(e){(r=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(t),r=r.getBlob()}var n=window.URL||window.webkitURL,o=n.createObjectURL(r),a=new window[e](o,s);return n.revokeObjectURL(o),a}catch(i){return new window[e]("data:application/javascript,".concat(encodeURIComponent(t)),s)}}catch(t){if(!i)throw Error("Inline worker is not supported");return new window[e](i,s)}}},function(t,e,s){"use strict";var i,r=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},n=function(){var t={};return function(e){if(void 0===t[e]){var s=document.querySelector(e);if(window.HTMLIFrameElement&&s instanceof window.HTMLIFrameElement)try{s=s.contentDocument.head}catch(t){s=null}t[e]=s}return t[e]}}(),o=[];function a(t){for(var e=-1,s=0;s<o.length;s++)if(o[s].identifier===t){e=s;break}return e}function h(t,e){for(var s={},i=[],r=0;r<t.length;r++){var n=t[r],h=e.base?n[0]+e.base:n[0],g=s[h]||0,l="".concat(h," ").concat(g);s[h]=g+1;var _=a(l),c={css:n[1],media:n[2],sourceMap:n[3]};-1!==_?(o[_].references++,o[_].updater(c)):o.push({identifier:l,updater:I(c,e),references:1}),i.push(l)}return i}function g(t){var e=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var r=s.nc;r&&(i.nonce=r)}if(Object.keys(i).forEach((function(t){e.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(e);else{var o=n(t.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(e)}return e}var l,_=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function c(t,e,s,i){var r=s?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=_(e,r);else{var n=document.createTextNode(r),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(n,o[e]):t.appendChild(n)}}function d(t,e,s){var i=s.css,r=s.media,n=s.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),n&&btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(n))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var u=null,C=0;function I(t,e){var s,i,r;if(e.singleton){var n=C++;s=u||(u=g(e)),i=c.bind(null,s,n,!1),r=c.bind(null,s,n,!0)}else s=g(e),i=d.bind(null,s,e),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(s)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=r());var s=h(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<s.length;i++){var r=a(s[i]);o[r].references--}for(var n=h(t,e),g=0;g<s.length;g++){var l=a(s[g]);0===o[l].references&&(o[l].updater(),o.splice(l,1))}s=n}}}},function(t,e,s){"use strict";s.r(e);var i=s(1),r=s.n(i),n=s(2),o=s.n(n),a=s(3),h=s.n(a),g=r()(!1),l=o()(h.a);g.push([t.i,"._36H_7fnW4AV8zYbJxjmdl4{\r\n    cursor: url("+l+"), auto !important;\r\n}\r\n\r\ncanvas:focus{\r\n    outline: none !important;\r\n}",""]),g.locals={selection_cursor:"_36H_7fnW4AV8zYbJxjmdl4"},e.default=g},function(t,e,s){"use strict";s.r(e),s.d(e,"Canvas",(function(){return u})),s.d(e,"CanvasElement",(function(){return A})),s.d(e,"Circle",(function(){return w})),s.d(e,"Diamond",(function(){return v})),s.d(e,"Polygon",(function(){return D})),s.d(e,"Rectangle",(function(){return y})),s.d(e,"Shape",(function(){return L})),s.d(e,"Triangle",(function(){return N})),s.d(e,"Background",(function(){return b})),s.d(e,"Border",(function(){return M})),s.d(e,"Color",(function(){return f})),s.d(e,"Font",(function(){return T})),s.d(e,"Line",(function(){return S})),s.d(e,"Padding",(function(){return I})),s.d(e,"Shadow",(function(){return p})),s.d(e,"Dimension",(function(){return r})),s.d(e,"Position",(function(){return i})),s.d(e,"Rotation",(function(){return n})),s.d(e,"Scale",(function(){return o})),s.d(e,"Transform",(function(){return a})),s.d(e,"getTextHeight",(function(){return x})),s.d(e,"syntaxHighlight",(function(){return C})),s.d(e,"isMobile",(function(){return z})),s.d(e,"removeWhiteSpaces",(function(){return m})),s.d(e,"getBezierPoints",(function(){return R})),s.d(e,"getPathPointsGivenPath",(function(){return k}));class i{constructor({x:t,y:e}){this._x=t,this._y=e}get x(){return parseInt(this._x?this._x.toFixed(0):0)}get y(){return parseInt(this._y?this._y.toFixed(0):0)}}class r{constructor({width:t,height:e}){this._width=t,this._height=e}get width(){return this._width}get height(){return this._height}set width(t){this._width=t}set height(t){this._height=t}}class n{constructor({angle:t,referential:e}){this._angle=t,this._referential=new i(e||{x:0,y:0})}get angle(){return this._angle}}class o{constructor({horizontal:t,vertical:e}){this._horizontal=t,this._vertical=e}get horizontal(){return this._horizontal}get vertical(){return this._vertical}}class a{static get POSITION(){return new i({x:0,y:0})}static get DIMENSION(){return new r({width:0,height:0})}static get ROTATION(){return new n({angle:0})}static get SCALE(){return new o({horizontal:1,vertical:1})}constructor({position:t,dimension:e,rotation:s,scale:h}){this._position=t?new i(t):a.POSITION,this._dimension=e?new r(e):a.DIMENSION,this._rotation=s?new n(s):a.ROTATION,this._scale=h?new o(h):a.SCALE,this._oldPosition=new i(this._position),this._oldDimension=new r(this._dimension),this._oldRotation=new n(this._rotation),this._oldScale=new o(this._scale)}set position({x:t,y:e}){this._oldPosition._x=Math.floor(this._position._x),this._oldPosition._y=Math.floor(this._position._y),this._position._x=Math.floor(t),this._position._y=Math.floor(e)}set dimension({width:t,height:e}){this._oldDimension.width=Math.floor(this._dimension._width),this._oldDimension.height=Math.floor(this._dimension._height),this._dimension.width=Math.floor(t),this._dimension.height=Math.floor(e)}set rotation({angle:t}){this._oldRotation._angle=Math.floor(this._rotation._angle),this._rotation._angle=Math.floor(t)}set scale({horizontal:t,vertical:e}){this._oldScale._horizontal=Math.floor(this._scale._horizontal),this._oldScale._vertical=Math.floor(this._scale._vertical),this._scale._horizontal=Math.floor(t),this._scale._vertical=Math.floor(e)}get oldTransform(){return{position:this._oldPosition,dimension:this._oldDimension,rotation:this._oldRotation,scale:this._oldScale}}}class h{constructor(){this._canvasElementMap=new Map,[...Array(100).keys()].forEach(t=>{this._canvasElementMap.set(t,new Map)}),this._canvasElementLayerMap=new Map,this._canvasElementsToDraw=[],this._reactiveCanvasElements=[]}getLayer(t){return this._canvasElementMap.get(t)}getCanvasElementLayerByName(t){return this.getLayer(this._canvasElementLayerMap.get(t))}getCanvasElementByName(t){const e=this.getCanvasElementLayerByName(t);return e?e.get(t):null}addCanvasElement(t){this.getLayer(t._z||0).set(t._name,t),this._canvasElementLayerMap.set(t._name,t._z),this._setReactiveAndToDrawCanvasElements()}removeCanvasElementByName(t){this.getCanvasElementLayerByName(t).delete(t),this._setReactiveAndToDrawCanvasElements()}clearLayer(t){const e=this.getLayer(t);e&&e.clear()}getCanvasElementsInLayer(t){return this.getLayer(t).values()}moveCanvasElementToLayer(t,e){t._z!==e&&(this.removeCanvasElementByName(t._name),t._z=e,this.addCanvasElement(t),this._setReactiveAndToDrawCanvasElements())}_setReactiveAndToDrawCanvasElements(){this._reactiveCanvasElements=[],this._canvasElementsToDraw=[];for(let t of this._canvasElementMap.values())t.forEach(t=>{t._draw&&this._canvasElementsToDraw.push(t),t._reactToIoEvents&&this._reactiveCanvasElements.push(t)})}}var g=s(0),l=s.n(g),_=s(4),c=s.n(_),d=function(){return c()('!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t){self.addEventListener("message",(function(e){"start"===e.data.action&&setInterval(()=>{self.postMessage("render")},1e3/60)}))}]);',"Worker",void 0,s.p+"index.worker.js")};class u{static get SCALE(){return{horizontal:1,vertical:1}}static get SCALELIMITS(){return{max:2,min:.2,speed:.01}}static get FPS(){return 60}static get CANDRAGCANVAS(){return!0}constructor({options:t,canvas:e}){this._canvasElementsManager=new h,this._dpi=window.devicePixelRatio,this._el=e||document.getElementById("canvas"),this._el.style.overscrollBehavior="none",this._el.style.maxHeight="none",this._el.classList.add(l.a["canvas:focus"]),this._el.style.cursor="grab",this._el.style.backgroundImage=t.backgroundImage,this._el.style.backgroundColor=t.background&&t.background.color?t.background.color:null,this._fps=t.fps?t.fps:u.FPS,this._canMoveCanvasElements=!1!==t.canMoveCanvasElements,this._canDragCanvas=!1!==t.canDragCanvas,this._mouse=new i({x:0,y:0}),this._scaleLimits=t.zoom?{max:t.zoom.max||u.SCALELIMITS.max,min:t.zoom.min||u.SCALELIMITS.min,speed:t.zoom.speed||u.SCALELIMITS.speed}:u.SCALELIMITS,this._transform=new a({position:{x:0,y:0},dimension:{width:this._el.parentElement.clientWidth,height:this._el.parentElement.clientHeight},scale:{horizontal:t.zoom.level,vertical:t.zoom.level}}),this._el.width=this._el.parentElement.clientWidth,this._el.height=this._el.parentElement.clientHeight,this._el.setAttribute("width",this._el.parentElement.clientWidth),this._el.setAttribute("height",this._el.parentElement.clientHeight),"undefined"!=typeof OffscreenCanvas?("OffscreenCanvas"in window?this._offscreenCanvas=this._el.transferControlToOffscreen():this._offscreenCanvas=new OffscreenCanvas(this._transform._dimension.width,this._transform._dimension.height),this._ctx=this._offscreenCanvas.getContext("2d")):this._ctx=this._el.getContext("2d"),this._isSelecting=!1,this._selectionStartPosition=void 0,this._selectionWidth=void 0,this._selectionHeight=void 0,this._pressingCtrl=!1,this._dragStartPosition=void 0,this._canvasElementDragStartPosition=void 0,this._currentTransformedCursor=void 0,this._isCanvasBeingDragged=!1,this._selectedCanvasElements=[],this._isCanvasElementBeingDraggedSelected=!1,this._canvasElementBeingDragged=null,this._cancelClick=!1,this._canvasElementBeingHovered=null,this._el.addEventListener("mousedown",t=>{if(this._mouseDownTransformedPosition=this.getTransformedPoint(t.offsetX,t.offsetY),this._el.setAttribute("tabindex",1),this._canMoveCanvasElements&&this._pressingCtrl)this._selectedCanvasElements.forEach(e=>{e.clickout(t)}),this._selectedCanvasElements=[],this._el.classList.add(l.a.selection_cursor),this._isSelecting=!0,this._selectionStartPosition={x:this._mouseDownTransformedPosition.x,y:this._mouseDownTransformedPosition.y};else if(this._canvasElementBeingHovered&&this._canMoveCanvasElements&&!this._canvasElementBeingDragged&&this._canvasElementBeingHovered._isDraggable){0===this._selectedCanvasElements.length&&this._canvasElementsManager._reactiveCanvasElements.forEach(e=>{e.clickout(t)}),this._el.style.cursor="grabbing",this._canvasElementBeingDragged=this._canvasElementBeingHovered,this._canvasElementDragStartPosition={x:this._mouseDownTransformedPosition.x,y:this._mouseDownTransformedPosition.y};for(let t=0;t<this._selectedCanvasElements.length;t++){if(this._selectedCanvasElements[t]._id===this._canvasElementBeingDragged._id){this._isCanvasElementBeingDraggedSelected=!0;break}}this._isCanvasElementBeingDraggedSelected||(this._selectedCanvasElements.forEach(e=>{e._id!==this._canvasElementBeingDragged._id&&e.clickout(t)}),this._selectedCanvasElements=[]),this._canvasElementBeingHovered.mousedown(t)}else this._canvasElementsManager._reactiveCanvasElements.forEach(e=>{e.clickout(t)}),0!==this._selectedCanvasElements.length&&(this._selectedCanvasElements=[]),this._el.dispatchEvent(new Event("deselectallcanvaselements")),this._canDragCanvas&&(this._isCanvasBeingDragged=!0,this._el.style.cursor="grabbing",this._dragStartPosition=this.getTransformedPoint(t.offsetX,t.offsetY))}),this._el.addEventListener("mousemove",t=>{if(this._mouse._x=t.offsetX,this._mouse._y=t.offsetY,this._currentTransformedCursor=this.getTransformedPoint(t.offsetX,t.offsetY),this._isSelecting){this._selectedCanvasElements=[],this._selectionWidth=this._currentTransformedCursor.x-this._selectionStartPosition.x,this._selectionHeight=this._currentTransformedCursor.y-this._selectionStartPosition.y;let t=this._selectionStartPosition.x,e=this._selectionStartPosition.y,s=this._currentTransformedCursor.x,i=this._currentTransformedCursor.y;if(this._selectionWidth<0){const e=t;t=s,s=e}if(this._selectionHeight<0){const t=e;e=i,i=t}let r=[];for(let n=this._canvasElementsManager._reactiveCanvasElements.length-1;n>=0;n--){let o=this._canvasElementsManager._reactiveCanvasElements[n];o._transform._position.x>s||o._transform._position.x+o._transform._dimension.width<t||o._transform._position.y>i||o._transform._position.y+o._transform._dimension.height<e?r.push(o):this._selectedCanvasElements.push(o)}r.forEach(t=>t.deselect()),this._selectedCanvasElements.forEach(t=>t.select())}else if(this._isCanvasBeingDragged)this._ctx.translate(Math.floor(this._currentTransformedCursor.x-this._dragStartPosition.x),Math.floor(this._currentTransformedCursor.y-this._dragStartPosition.y)),this._dragStartPosition=this.getTransformedPoint(t.offsetX,t.offsetY);else if(this._canvasElementBeingDragged){this._cancelClick=!0;const e=Math.floor(this._currentTransformedCursor.x-this._canvasElementDragStartPosition.x),s=Math.floor(this._currentTransformedCursor.y-this._canvasElementDragStartPosition.y);this._isCanvasElementBeingDraggedSelected?this._selectedCanvasElements.forEach(t=>{t.mouseDrag({deltaX:e,deltaY:s})}):this._canvasElementBeingDragged.mouseDrag({deltaX:e,deltaY:s}),this._canvasElementDragStartPosition=this.getTransformedPoint(t.offsetX,t.offsetY)}else if(this._canvasElementBeingHovered&&this._canvasElementBeingHovered.contains(this._mouse))this._canvasElementBeingHovered.mousemove(this._mouse);else{this._canvasElementBeingHovered&&(this._canvasElementBeingHovered.mouseleave(this._mouse),this._canvasElementBeingHovered=null);for(let t=this._canvasElementsManager._reactiveCanvasElements.length-1;t>=0;t--){let e=this._canvasElementsManager._reactiveCanvasElements[t];if(e.contains(this._mouse)){this._canvasElementBeingHovered=e,e.mouseenter(this._mouse);break}}}}),this._el.addEventListener("mouseup",t=>{this._isSelecting?(this._isSelecting=!1,this._selectionWidth=void 0,this._selectionHeight=void 0,this._el.classList.remove(l.a.selection_cursor)):(this._canvasElementBeingDragged&&(this._canvasElementBeingDragged.mouseup(t),this._canvasElementBeingDragged=null),this._isCanvasElementBeingDraggedSelected=!1,this._isCanvasBeingDragged=!1,this._el.style.cursor="grab")}),this._el.addEventListener("click",t=>{this._cancelClick?this._cancelClick=!1:this._canvasElementBeingHovered&&this._canvasElementBeingHovered.click(t)}),this._el.addEventListener("dblclick",t=>{this._cancelClick?this._cancelClick=!1:this._canvasElementBeingHovered&&this._canvasElementBeingHovered.dblclick(t)}),this._el.addEventListener("wheel",t=>{t.stopPropagation(),this._currentTransformedCursor=this.getTransformedPoint(t.offsetX,t.offsetY);const e=t.wheelDelta>0||t.deltaY<0?1+this._scaleLimits.speed:1-this._scaleLimits.speed,s=this._ctx.getTransform().a*e;this._canvasElementBeingHovered?this._canvasElementBeingHovered.wheel(t):s>this._scaleLimits.min&&s<this._scaleLimits.max&&(this._ctx.translate(this._currentTransformedCursor.x,this._currentTransformedCursor.y),this._ctx.scale(e,e),this._ctx.translate(-this._currentTransformedCursor.x,-this._currentTransformedCursor.y))},{passive:!0}),this._el.addEventListener("keydown",t=>{this._isCanvasBeingDragged||this._canvasElementBeingDragged||!t.ctrlKey||(this._pressingCtrl=!0,this._el.classList.add(l.a.selection_cursor))}),this._el.addEventListener("keyup",t=>{this._pressingCtrl=!1,this._isSelecting||this._el.classList.remove(l.a.selection_cursor)}),this._el.addEventListener("focusout",()=>{this._selectedCanvasElements.forEach(t=>t._selected=!1),this._isSelecting=!1,this._selectionStartPosition=void 0,this._selectionWidth=void 0,this._selectionHeight=void 0,this._pressingCtrl=!1,this._dragStartPosition=void 0,this._canvasElementDragStartPosition=void 0,this._currentTransformedCursor=void 0,this._isCanvasBeingDragged=!1,this._selectedCanvasElements=[],this._canvasElementBeingDragged=null,this._cancelClick=!1,this._canvasElementBeingHovered=null,this._el.removeAttribute("tabindex"),this._el.classList.remove(l.a.selection_cursor)});const s=t=>{this._transform._dimension.width=this._el.parentElement.clientWidth,this._transform._dimension.height=this._el.parentElement.clientHeight,this._offscreenCanvas?(this._offscreenCanvas.width=this._transform._dimension.width,this._offscreenCanvas.height=this._transform._dimension.height):(this._el.width=this._transform._dimension.width,this._el.height=this._transform._dimension.height)};window.onresize=s,this._el.parentElement.onresize=s,this._el.focus(),this._boundMethod=this.draw.bind(this),this._worker=new d,this._worker.addEventListener("message",t=>{window.requestAnimationFrame(this._boundMethod)}),this.start()}start(){this._worker.postMessage({action:"start"}),window.requestAnimationFrame(this._boundMethod)}draw(){this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._el.width,this._el.height),this._ctx.restore();const t=this._canvasElementsManager._canvasElementsToDraw;for(let e=0;e<t.length;e++){t[e].draw(this._ctx)}this._isSelecting&&(this._ctx.save(),this._ctx.lineWidth=3,this._ctx.setLineDash([5,5]),this._ctx.strokeStyle="rgba(0,0,255,0.3)",this._ctx.fillStyle="rgba(0,0,255,0.02)",this._ctx.fillRect(this._selectionStartPosition.x,this._selectionStartPosition.y,this._selectionWidth,this._selectionHeight),this._ctx.strokeRect(this._selectionStartPosition.x,this._selectionStartPosition.y,this._selectionWidth,this._selectionHeight),this._ctx.restore())}getTransformedPoint(t,e){const s=this._ctx.getTransform(),i=1/s.a,r=i*t-i*s.e,n=i*e-i*s.f;return{x:Math.floor(r),y:Math.floor(n)}}deselectAllCanvasElements(){this._canvasElementsManager._reactiveCanvasElements.forEach(t=>{t.clickout()}),this._selectedCanvasElements=[],this.draw()}saveAsImage(t){var e=document.createElement("a");e.download=t+".png",e.href=this._el.toDataURL("image/png").replace("image/png","image/octet-stream"),e.click()}saveAsImage2(t){const e=document.createElement("canvas");e.width=10*this._el.width,e.height=10*this._el.height;const s=e.getContext("2d"),i=this._ctx.getTransform();this._ctx.setTransform(1,0,0,1,0,0),s.drawImage(this._el,0,0),this._ctx.setTransform(i);const r=document.createElement("a");r.download="canvas.png",r.href=e.toDataURL("image/png").replace("image/png","image/octet-stream"),r.click()}}const C=function(t){return"string"!=typeof t&&(t=JSON.stringify(t,void 0,2)),(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,(function(t){var e="number";return/^"/.test(t)?e=/:$/.test(t)?"key":"string":/true|false/.test(t)?e="boolean":/null/.test(t)&&(e="null"),'<span class="'+e+'">'+t+"</span>"}))};class I{static get NONE(){return new I({top:0,left:0,right:0,bottom:0})}constructor({top:t,right:e,bottom:s,left:i}){this._top=t,this._right=e,this._bottom=s,this._left=i}}class A{constructor({name:t,padding:e,dimension:s,position:i,rotation:r,parent:n,nonReactiveToIO:o,z:h},g){if(!t)throw new Error("Every Canvas Element must have a name.");if(!g)throw new Error("Every Canvas Element must be in a Canvas.");this._id=+new Date+1e5*Math.random(),this._z=h,this._canvas=g||void 0,this._name=t,this._selected=!1,this._hover=!1,this._transform=new a({position:i||void 0,dimension:s||void 0,rotation:r||void 0}),this._padding=e?new I(e):I.NONE,this._parent=n||void 0,this._children=[],this._draw=!0,this._reactToIoEvents=!1!==o}emit(t){this._canvas._el.dispatchEvent(new CustomEvent(t,{detail:this}))}draw(){}clear(){}contains(t){return!(!this._shape||!this._shape._path)&&this._canvas._ctx.isPointInPath(this._shape._path,t.x,t.y,"nonzero")}toString(){return{id:this._id,name:this._name}}prettier(){return C(this.toString())}select(){}deselect(){}mousedown(t){}click(t){}clickout(){}dblckick(t){}mouseup(t){}wheel(t){}mousemove({x:t,y:e}){}mouseenter(t){}mouseleave(t){}moveToLayer(t){this._canvas._canvasElementsManager.moveCanvasElementToLayer(this,t)}set position({x:t,y:e}){this._transform.position={x:t,y:e},this._shape&&(this._shape._transform.position={x:t,y:e})}set name(t){this._canvas._canvasElementsManager.getCanvasElementLayerByName(this._name).delete(this._name),this._canvas._canvasElementsManager._canvasElementLayerMap.delete(this._name),this._name=t,this._canvas._canvasElementsManager.getLayer(this._z).set(this._name,this),this._canvas._canvasElementsManager._canvasElementLayerMap.set(t,this._z)}}const m=t=>t.replace(/\s/g,"");class f{static get htmlColors(){return{INDIANRED:"rgb(205, 92, 92)",LIGHTCORAL:"rgb(240, 128, 128)",SALMON:"rgb(250, 128, 114)",DARKSALMON:"rgb(233, 150, 122)",LIGHTSALMON:"rgb(255, 160, 122)",CRIMSON:"rgb(220, 20, 60)",RED:"rgb(255, 0, 0)",FIREBRICK:"rgb(178, 34, 34)",DARKRED:"rgb(139, 0, 0)",PINK:"rgb(255, 192, 203)",LIGHTPINK:"rgb(255, 182, 193)",HOTPINK:"rgb(255, 105, 180)",DEEPPINK:"rgb(255, 20, 147)",MEDIUMVIOLETRED:"rgb(199, 21, 133)",PALEVIOLETRED:"rgb(219, 112, 147)",LIGHTSALMON:"rgb(255, 160, 122)",CORAL:"rgb(255, 127, 80)",TOMATO:"rgb(255, 99, 71)",ORANGERED:"rgb(255, 69, 0)",DARKORANGE:"rgb(255, 140, 0)",ORANGE:"rgb(255, 165, 0)",GOLD:"rgb(255, 215, 0)",YELLOW:"rgb(255, 255, 0)",LIGHTYELLOW:"rgb(255, 255, 224)",LEMONCHIFFON:"rgb(255, 250, 205)",LIGHTGOLDENRODYELLOW:"rgb(250, 250, 210)",PAPAYAWHIP:"rgb(255, 239, 213)",MOCCASIN:"rgb(255, 228, 181)",PEACHPUFF:"rgb(255, 218, 185)",PALEGOLDENROD:"rgb(238, 232, 170)",KHAKI:"rgb(240, 230, 140)",DARKKHAKI:"rgb(189, 183, 107)",LAVENDER:"rgb(230, 230, 250)",THISTLE:"rgb(216, 191, 216)",PLUM:"rgb(221, 160, 221)",VIOLET:"rgb(238, 130, 238)",ORCHID:"rgb(218, 112, 214)",FUCHSIA:"rgb(255, 0, 255)",MAGENTA:"rgb(255, 0, 255)",MEDIUMORCHID:"rgb(186, 85, 211)",MEDIUMPURPLE:"rgb(147, 112, 219)",REBECCAPURPLE:"rgb(102, 51, 153)",BLUEVIOLET:"rgb(138, 43, 226)",DARKVIOLET:"rgb(148, 0, 211)",DARKORCHID:"rgb(153, 50, 204)",DARKMAGENTA:"rgb(139, 0, 139)",PURPLE:"rgb(128, 0, 128)",INDIGO:"rgb(75, 0, 130)",SLATEBLUE:"rgb(106, 90, 205)",DARKSLATEBLUE:"rgb(72, 61, 139)",MEDIUMSLATEBLUE:"rgb(123, 104, 238)",GREENYELLOW:"rgb(173, 255, 47)",CHARTREUSE:"rgb(127, 255, 0)",LAWNGREEN:"rgb(124, 252, 0)",LIME:"rgb(0, 255, 0)",LIMEGREEN:"rgb(50, 205, 50)",PALEGREEN:"rgb(152, 251, 152)",LIGHTGREEN:"rgb(144, 238, 144)",MEDIUMSPRINGGREEN:"rgb(0, 250, 154)",SPRINGGREEN:"rgb(0, 255, 127)",MEDIUMSEAGREEN:"rgb(60, 179, 113)",SEAGREEN:"rgb(46, 139, 87)",FORESTGREEN:"rgb(34, 139, 34)",GREEN:"rgb(0, 128, 0)",DARKGREEN:"rgb(0, 100, 0)",YELLOWGREEN:"rgb(154, 205, 50)",OLIVEDRAB:"rgb(107, 142, 35)",OLIVE:"rgb(128, 128, 0)",DARKOLIVEGREEN:"rgb(85, 107, 47)",MEDIUMAQUAMARINE:"rgb(102, 205, 170)",DARKSEAGREEN:"rgb(143, 188, 139)",LIGHTSEAGREEN:"rgb(32, 178, 170)",DARKCYAN:"rgb(0, 139, 139)",TEAL:"rgb(0, 128, 128)",AQUA:"rgb(0, 255, 255)",CYAN:"rgb(0, 255, 255)",LIGHTCYAN:"rgb(224, 255, 255)",PALETURQUOISE:"rgb(175, 238, 238)",AQUAMARINE:"rgb(127, 255, 212)",TURQUOISE:"rgb(64, 224, 208)",MEDIUMTURQUOISE:"rgb(72, 209, 204)",DARKTURQUOISE:"rgb(0, 206, 209)",CADETBLUE:"rgb(95, 158, 160)",STEELBLUE:"rgb(70, 130, 180)",LIGHTSTEELBLUE:"rgb(176, 196, 222)",POWDERBLUE:"rgb(176, 224, 230)",LIGHTBLUE:"rgb(173, 216, 230)",SKYBLUE:"rgb(135, 206, 235)",LIGHTSKYBLUE:"rgb(135, 206, 250)",DEEPSKYBLUE:"rgb(0, 191, 255)",DODGERBLUE:"rgb(30, 144, 255)",CORNFLOWERBLUE:"rgb(100, 149, 237)",MEDIUMSLATEBLUE:"rgb(123, 104, 238)",ROYALBLUE:"rgb(65, 105, 225)",BLUE:"rgb(0, 0, 255)",MEDIUMBLUE:"rgb(0, 0, 205)",DARKBLUE:"rgb(0, 0, 139)",NAVY:"rgb(0, 0, 128)",MIDNIGHTBLUE:"rgb(25, 25, 112)",CORNSILK:"rgb(255, 248, 220)",BLANCHEDALMOND:"rgb(255, 235, 205)",BISQUE:"rgb(255, 228, 196)",NAVAJOWHITE:"rgb(255, 222, 173)",WHEAT:"rgb(245, 222, 179)",BURLYWOOD:"rgb(222, 184, 135)",TAN:"rgb(210, 180, 140)",ROSYBROWN:"rgb(188, 143, 143)",SANDYBROWN:"rgb(244, 164, 96)",GOLDENROD:"rgb(218, 165, 32)",DARKGOLDENROD:"rgb(184, 134, 11)",PERU:"rgb(205, 133, 63)",CHOCOLATE:"rgb(210, 105, 30)",SADDLEBROWN:"rgb(139, 69, 19)",SIENNA:"rgb(160, 82, 45)",BROWN:"rgb(165, 42, 42)",MAROON:"rgb(128, 0, 0)",WHITE:"rgb(255, 255, 255)",SNOW:"rgb(255, 250, 250)",HONEYDEW:"rgb(240, 255, 240)",MINTCREAM:"rgb(245, 255, 250)",AZURE:"rgb(240, 255, 255)",ALICEBLUE:"rgb(240, 248, 255)",GHOSTWHITE:"rgb(248, 248, 255)",WHITESMOKE:"rgb(245, 245, 245)",SEASHELL:"rgb(255, 245, 238)",BEIGE:"rgb(245, 245, 220)",OLDLACE:"rgb(253, 245, 230)",FLORALWHITE:"rgb(255, 250, 240)",IVORY:"rgb(255, 255, 240)",ANTIQUEWHITE:"rgb(250, 235, 215)",LINEN:"rgb(250, 240, 230)",LAVENDERBLUSH:"rgb(255, 240, 245)",MISTYROSE:"rgb(255, 228, 225)",GAINSBORO:"rgb(220, 220, 220)",LIGHTGRAY:"rgb(211, 211, 211)",SILVER:"rgb(192, 192, 192)",DARKGRAY:"rgb(169, 169, 169)",GRAY:"rgb(128, 128, 128)",DIMGRAY:"rgb(105, 105, 105)",LIGHTSLATEGRAY:"rgb(119, 136, 153)",SLATEGRAY:"rgb(112, 128, 144)",DARKSLATEGRAY:"rgb(47, 79, 79)",BLACK:"rgb(0, 0, 0)"}}static isRGB(t){return null!==t.match(/^rgb\([0-9]{1,3},[0-9]{1,3},[0-9]{1,3}\)$/gi)}static isRGBA(t){return null!==t.match(/^(rgba\(\s*(\d*)\s*,\s*(\d*)\s*,\s*(\d*)\s*,\s*([0|1].?\d*)\s*\))$/gi)}static isHEX(t){return null!==t.match(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/gi)}static string2Color(t){const e=f.htmlColors[t.toUpperCase()];if(e&&(t=e),t=m(t),f.isRGB(t)||f.isRGBA(t)){let e=t.replace("rgb(","").replace("rgba(","").replace(")","").split(",");return{red:e[0],green:e[1],blue:e[2],alpha:e[3]||1}}if(f.isHEX(t)){const e=(t=t.replace("#","")).length/3;return{red:parseInt(t.substring(0,e),16),green:parseInt(t.substring(e,2*e),16),blue:parseInt(t.substring(2*e,3*e),16),alpha:1}}throw new Error(`The color ${t} is not a valid rgb, rgba or hex color.`)}static rgbToHex(t){if(!f.isRGB(t)&&!f.isRGBA(t))throw new Error(`The color ${t} is not a valid rgb or rgba color.`);const e=(t=t.replace(/\s/g,"")).replace("rgb(","").replace("rgba(","").replace(")","").split(",");let s="#";return e.forEach((t,e)=>{if(3!=e){const e=Number(t).toString(16);s+=2===e.length?e:"0"+e}}),s}constructor(t){"string"==typeof t&&(t=f.string2Color(t)),this._red=t.red,this._green=t.green,this._blue=t.blue,this._alpha=t.alpha||1}get rgb(){return`rgb(${this._red},${this._green},${this._blue})`}get rgba(){return`rgba(${this._red},${this._green},${this._blue},${this._alpha})`}get hex(){return f.rgbToHex(this.rgb)}set color(t){"string"==typeof t&&(t=f.string2Color(t)),this._red=t.red,this._green=t.green,this._blue=t.blue,this._alpha=t.alpha||1}}class M{static get SMALL(){return new M({radius:0,lineWidth:1})}constructor({radius:t,color:e,lineWidth:s}){this._radius=t||0,this._lineWidth=s||0,this._color=e?new f(e):null}set color(t){this._color=new f(t)}}class p{constructor({offsetX:t,offsetY:e,color:s,blur:i}){this._offsetX=t,this._offsetY=e,this._color=new f(s),this._blur=i}set color(t){this._color=new f(t)}}class E{constructor({src:t,position:e,dimension:s,rotation:i,scale:r}){this._transform=new a({position:e,dimension:s,rotation:i,scale:r}),this._image=s?new Image(this._transform._dimension.width,this._transform._dimension.height):new Image,this._src=t,this._image.src=this._src,this._image.addEventListener("load",()=>{this._loaded=!0}),this._loaded=!1}set src(t){this._src=t,this._loaded=!1}draw(t){this._transform._dimension?t.drawImage(this._image,this._transform._position.x,this._transform._position.y,this._transform._dimension.width,this._transform._dimension.height):t.drawImage(this._image,this._transform._position.x,this._transform._position.y)}}class b{static get WHITE(){return new b({color:"white"})}static get TRANSPARENT(){return new b({color:"rgba(255,255,255,0)"})}constructor({color:t,image:e}){this._color=t?new f(t):null,this._image=e?new E({image:e}):null}set color(t){this._color=new f(t)}set Image(t){this._image=new E(t)}}class L{static get ROTATION(){return new Rotation({angle:0})}static get SHADOW(){return new p({offsetX:0,offsetY:0,color:"rgb(0,0,0)",blur:0})}constructor({position:t,dimension:e,rotation:s,scale:i,background:r,border:n,shadow:o}){this._transform=new a({position:t,dimension:e,rotation:s,scale:i}),this._border=n?new M(n):M.SMALL,this._background=r?new b(r):b.TRANSPARENT,this._shadow=o?new p(o):null,this._path=null}draw(t){this._shadow&&(t.shadowColor=this._shadow._color.rgba,t.shadowBlur=this._shadow.blur,t.shadowOffsetX=this._shadow.offsetX,t.shadowOffsetY=this._shadow.offsetY),this._border&&this._border._color&&(t.strokeStyle=this._border._color.rgba),this._border&&this._border.lineWidth&&(t.lineWidth=this._border.lineWidth),this._background&&this._background._color&&(t.fillStyle=this._background._color.rgba)}get sides(){const t=this._transform._dimension.width/2,e=this._transform._dimension.height/2;return{top:{x:this._transform._position.x+t,y:this._transform._position.y},right:{x:this._transform._position.x+this._transform._dimension.width,y:this._transform._position.y+e},bottom:{x:this._transform._position.x+t,y:this._transform._position.y+this._transform._dimension.height},left:{x:this._transform._position.x,y:this._transform._position.y+e}}}get rotate(){return this._transform._rotation&&this._transform._rotation.angle>0}}class w extends L{constructor({position:t,rotation:e,border:s,background:i,diameter:r,shadow:n}){super({position:t,rotation:e,border:s,background:i,shadow:n}),this._diameter=r||0}draw(t){t.save(),super.draw(t),this.rotate&&(t.translate(this._transform._position.x,this._transform._position.y),t.rotate(this._transform._rotation.angle),t.translate(-this._transform._position.x,-this._transform._position.y)),t.beginPath(),this._path=new Path2D,this._path.arc(this._transform._position.x,this._transform._position.y,this._diameter,0,2*Math.PI),this._path.closePath(),this._border&&this._border._color&&t.stroke(this._path),this._background&&this._background._color&&t.fill(this._path),t.shadowColor=0,t.shadowOffsetX=0,t.shadowOffsetY=0,this._border&&this._border._color&&t.stroke(this._path),t.restore()}}class v extends L{constructor({position:t,dimension:e,rotation:s,border:i,background:r,shadow:n}){super({position:t,dimension:e,rotation:s,border:i,background:r,shadow:n})}draw(t){if(t.save(),super.draw(t),this.rotate){const e=this._transform._position.x+this._transform._dimension.width/2,s=this._transform._position.y+this._transform._dimension.height/2;t.translate(e,s),t.rotate(this._transform._rotation.angle),t.translate(-e,-s)}this._path=new Path2D,t.beginPath(),this._path.moveTo(this.sides.top.x-this._border.radius,this.sides.top.y+this._border.radius),this._path.quadraticCurveTo(this.sides.top.x,this.sides.top.y+.5*this._border.radius,this.sides.top.x+this._border.radius,this.sides.top.y+this._border.radius),this._path.lineTo(this.sides.right.x-this._border.radius,this.sides.right.y-this._border.radius),this._path.quadraticCurveTo(this.sides.right.x,this.sides.right.y,this.sides.right.x-this._border.radius,this.sides.right.y+this._border.radius),this._path.lineTo(this.sides.bottom.x+this._border.radius,this.sides.bottom.y-this._border.radius),this._path.quadraticCurveTo(this.sides.bottom.x,this.sides.bottom.y-.5*this._border.radius,this.sides.bottom.x-this._border.radius,this.sides.bottom.y-this._border.radius),this._path.lineTo(this.sides.left.x+this._border.radius,this.sides.left.y+this._border.radius),this._path.quadraticCurveTo(this.sides.left.x,this.sides.left.y,this.sides.left.x+this._border.radius,this.sides.left.y-this._border.radius),this._path.lineTo(this.sides.top.x-this._border.radius,this.sides.top.y+this._border.radius),this._path.closePath(),this._border&&this._border._color&&t.stroke(this._path),this._background&&this._background._color&&t.fill(this._path),t.shadowColor=0,t.shadowOffsetX=0,t.shadowOffsetY=0,this._border&&this._border._color&&t.stroke(this._path),t.restore()}}class D extends L{constructor({points:t,position:e,dimension:s,rotation:i,border:r,background:n,shadow:o}){super({position:e,dimension:s,rotation:i,border:r,background:n,shadow:o}),this._points=t||[]}draw(t){if(t.save(),super.draw(t),this.rotate){const e=this._transform._position.x+this._transform._dimension.width/2,s=this._transform._position.y+this._transform._dimension.height/2;t.translate(e,s),t.rotate(this._transform._rotation.angle),t.translate(-e,-s)}this._path=new Path2D,t.beginPath(),this._path.moveTo(points[0].x,points[0].y),points.forEach(t=>{this._path.lineTo(t.x,t.y)}),this._path.closePath(),this._border&&this._border._color&&t.stroke(this._path),this._background&&this._background._color&&t.fill(this._path),t.shadowColor=0,t.shadowOffsetX=0,t.shadowOffsetY=0,this._border&&this._border._color&&t.stroke(this._path),t.restore()}}class y extends L{constructor({position:t,dimension:e,rotation:s,border:i,background:r,shadow:n}){super({position:t,dimension:e,rotation:s,border:i,background:r,shadow:n})}draw(t){if(t.save(),super.draw(t),this.rotate){const e=this._transform._position.x+this._transform._dimension.width/2,s=this._transform._position.y+this._transform._dimension.height/2;t.translate(e,s),t.rotate(this._transform._rotation.angle),t.translate(-e,-s)}this._path=new Path2D;var e=this._transform._position.x+this._transform._dimension.width,s=this._transform._position.y+this._transform._dimension.height;t.beginPath(),"object"==typeof this._border._radius?(this._path.moveTo(this._transform._position.x+this._border._radius.topLeft,this._transform._position.y),this._path.lineTo(e-this._border._radius.topRight,this._transform._position.y),this._path.quadraticCurveTo(e,this._transform._position.y,e,this._transform._position.y+this._border._radius.topRight),this._path.lineTo(e,this._transform._position.y+this._transform._dimension.height-this._border._radius.bottomRight),this._path.quadraticCurveTo(e,s,e-this._border._radius.bottomRight,s),this._path.lineTo(this._transform._position.x+this._border._radius.bottomLeft,s),this._path.quadraticCurveTo(this._transform._position.x,s,this._transform._position.x,s-this._border._radius.bottomLeft),this._path.lineTo(this._transform._position.x,this._transform._position.y+this._border._radius.topLeft),this._path.quadraticCurveTo(this._transform._position.x,this._transform._position.y,this._transform._position.x+this._border._radius.topLeft,this._transform._position.y)):(this._path.moveTo(this._transform._position.x+this._border._radius,this._transform._position.y),this._path.lineTo(e-this._border._radius,this._transform._position.y),this._path.quadraticCurveTo(e,this._transform._position.y,e,this._transform._position.y+this._border._radius),this._path.lineTo(e,this._transform._position.y+this._transform._dimension.height-this._border._radius),this._path.quadraticCurveTo(e,s,e-this._border._radius,s),this._path.lineTo(this._transform._position.x+this._border._radius,s),this._path.quadraticCurveTo(this._transform._position.x,s,this._transform._position.x,s-this._border._radius),this._path.lineTo(this._transform._position.x,this._transform._position.y+this._border._radius),this._path.quadraticCurveTo(this._transform._position.x,this._transform._position.y,this._transform._position.x+this._border._radius,this._transform._position.y)),this._path.closePath(),this._border&&this._border._color&&t.stroke(this._path),this._background&&this._background._color&&t.fill(this._path),t.shadowColor=0,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0,this._border&&this._border._color&&t.stroke(this._path),t.restore()}get area(){return this._transform._dimension.width*this._transform._dimension.height}get center(){return{x:this._transform._position.x+this._transform._dimension.width/2,y:this._transform._position.y+this._transform._dimension.height/2}}}class N extends L{constructor({position:t,dimension:e,rotation:s,border:i,background:r,shadow:n}){super({position:t,dimension:e,rotation:s,border:i,background:r,shadow:n})}draw(t){t.save(),super.draw(t),this.rotate&&(t.translate(this._transform._position.x,this._transform._position.y),t.rotate(this._transform._rotation.angle),t.translate(-this._transform._position.x,-this._transform._position.y)),this._path=new Path2D,t.beginPath(),this._path.moveTo(this._transform._position.x,this._transform._position.y),this._path.lineTo(this._transform._position.x-this._transform._dimension.width,this._transform._position.y-this._transform._dimension.height/2),this._path.lineTo(this._transform._position.x-this._transform._dimension.width,this._transform._position.y+this._transform._dimension.height/2),this._path.closePath(),this._border&&this._border._color&&t.stroke(this._path),this._background&&this._background._color&&t.fill(this._path),t.shadowColor=0,t.shadowOffsetX=0,t.shadowOffsetY=0,this._border&&this._border._color&&t.stroke(this._path),t.restore()}}const x=function({fontFamily:t,fontSize:e,fontWeight:s,element:i}){const r=i||document.body;var n=document.createElement("span");n.innerHTML="Hg",n.setAttribute("style",`font-family: ${t} !important; font-size: ${e}px !important; font-weight:${s} !important;`);var o=document.createElement("div");o.style.display="inline-block",o.style.width="1px",o.style.height="0px";var a=document.createElement("div");a.appendChild(n),a.appendChild(o),r.appendChild(a);try{var h={};o.style.verticalAlign="baseline",h.ascent=o.offsetTop-n.offsetTop,o.style.verticalAlign="bottom",h.height=o.offsetTop-n.offsetTop,h.descent=h.height-h.ascent}finally{a.remove()}return h};class T{static get ARIAL(){return new T({family:"Arial",style:"normal",variant:"normal",color:"black",size:15,weight:"normal"})}constructor({family:t,style:e,variant:s,color:i,size:r,weight:n}){this._family=t,this._style=e,this._variant=s,this._color=new f(i),this._size=r,this._weight=n,this._setFontDimensions()}set family(t){this._family=t,this._setFontDimensions()}set fontSize(t){this._fontSize=t,this._setFontDimensions()}set fontWeight(t){this._fontSize=t,this._setFontDimensions()}get font2Canvas(){return`${this._style||""} ${this._variant||""} ${this._weight||""} ${this._size?this._size+"px":""} ${this._family||""}`}set color(t){this._color=new f(t)}_setFontDimensions(){this._dimensions=x({fontFamily:this._family,fontSize:this._size,fontWeight:this._weight})}}class S{constructor({weight:t,color:e,enableBezierCurves:s,dashed:i,lineCap:r}){this._weight=t,this._color=new f(e),this._enableBezierCurves=s,this._dashed=i,this._lineCap=r||"round"}}const z=()=>/Mobi|Android/i.test(navigator.userAgent),j=function(t,e,s,i,r,n,o,a,h){return{x:Math.pow(1-t,3)*e+3*t*Math.pow(1-t,2)*i+3*t*t*(1-t)*n+t*t*t*a,y:Math.pow(1-t,3)*s+3*t*Math.pow(1-t,2)*r+3*t*t*(1-t)*o+t*t*t*h}},O=function(t,e,s,i,r,n,o){return{x:(1-t)*(1-t)*e+2*(1-t)*t*i+t*t*n,y:(1-t)*(1-t)*s+2*(1-t)*t*r+t*t*o}},R=({startPoint:t,controlPoint1:e,controlPoint2:s,endPoint:i,numberOfPointsToGenerate:r})=>{let n=[],o=r||50;for(let r=0;r<=o;r++){let a=null;a=s?j(r/o,t.x,t.y,e.x,e.y,s.x,s.y,i.x,i.y):O(r/o,t.x,t.y,e.x,e.y,i.x,i.y),n.push(a)}return n},k=t=>{let e=[];for(let s=1;s<t.length;s++){const i=t[s];if(i.x===t[s-1].x){const r=(i.y-t[s-1].y)/50;for(let n=0;n<50;n++)e.push({x:i.x,y:t[s-1].y+r*n})}else if(i.y===t[s-1].y){const r=(i.x-t[s-1].x)/50;for(let n=0;n<50;n++)e.push({x:t[s-1].x+r*n,y:i.y})}}return e.push({x:t[t.length-1].x,y:t[t.length-1].y}),e}}])}));